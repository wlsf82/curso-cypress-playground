# Simulando uma falha na API ğŸ’¥

Com o comando `cy.intercept()`, vocÃª pode atÃ© simular uma falha de API.

Por exemplo: `cy.intercept('GET', 'https://api.example.com/todos/1', { statusCode: 500 }).as('serverFailure')`.

EntÃ£o, vocÃª poderia verificar que a requisiÃ§Ã£o realmente falhou.

Por exemplo:

```js
cy.wait('@serverFailure')
  .its('response.statusCode')
  .should('be.equal', 500)

```

E talvez, atÃ© verificar que determinado elemento de _fallback_ seja exibido em caso de tal falha.

Por exemplo: `cy.contains('.error', 'Opa, algo deu errado.').should('be.visible')`.

## ConteÃºdos sugeridos ğŸ“š

- [Como simular erros com Cypress](https://talkingabouttesting.com/2021/02/25/como-simular-erros-com-cypress/)
- [Simulando a falha e recuperaÃ§Ã£o do Servidor/API com Cypress](https://talkingabouttesting.com/2024/02/06/simulando-falha-e-recuperacao-do-servidor-api-com-cypress/)

## ExercÃ­cio ğŸ¯

Experimente criando um teste que intercepte a requisiÃ§Ã£o acionada ao clicar no botÃ£o _Get TODO_, mas desta vez, simule uma falha de API. Clique no botÃ£o e aguarde a requisiÃ§Ã£o acontecer. AlÃ©m disso, certifique-se de que um elemento de _fallback_ seja exibido.

## Mostre ao mundo o que vocÃª aprendeu ğŸŒ

Para mostrar Ã  sua rede profissional o que vocÃª aprendeu nesta aula, publique o seguinte no LinkedIn.

> Estou fazendo o curso "Cypress Playground" da escola online Talking About Testing, onde aprendi como simular uma falha na API .#TalkingAboutTesting #EscolaTAT #CypressPlayground #Cypress
>
> ğŸ‘¨â€ğŸ« Lembre-se de me marcar em sua publicaÃ§Ã£o. [Aqui estÃ¡ meu perfil no LinkedIn](https://www.linkedin.com/in/walmyr-lima-e-silva-filho).

___

ParabÃ©ns! ğŸ‰ Vamos para a [liÃ§Ã£o 13](./13.md) para aprender como simular uma falha na rede.
